(()=>{var e={};e.id=586,e.ids=[586],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10335:(e,t,s)=>{"use strict";s.d(t,{YO:()=>f});var a=s(63470);let r=a.k5(["scope_1","scope_2","scope_3"]),o=a.k5(["stationary_combustion","mobile_combustion","process_emissions","fugitive_emissions","purchased_electricity","purchased_steam","purchased_heating","purchased_cooling","business_travel","employee_commuting","waste_generated","upstream_transportation","downstream_transportation"]),i=a.k5(["pending","completed","error"]),n=a.k5(["pdf","json","csv"]),l=a.Ik({id:a.Yj(),category:o,subcategory:a.Yj(),factor:a.ai().positive(),unit:a.Yj(),source:a.Yj(),region:a.Yj().optional(),year:a.ai().int().min(2e3).max(2030),isActive:a.zM().default(!0),description:a.Yj().optional()}),c=a.Ik({amount:a.ai().positive(),unit:a.Yj(),startDate:a.p6(),endDate:a.p6(),description:a.Yj().optional()}),d=a.Ik({scope:r,category:o,subcategory:a.Yj(),activityData:c,emissionFactorId:a.Yj().optional(),customEmissionFactor:a.ai().positive().optional(),metadata:a.g1(a.bz()).optional()}),u=a.Ik({id:a.Yj(),input:d,emissionFactor:l.optional(),calculatedEmissions:a.ai(),calculationMethod:a.Yj(),uncertaintyRange:a.Ik({min:a.ai(),max:a.ai()}).optional(),calculatedAt:a.p6(),status:i,errors:a.YO(a.Yj()).optional()});a.Ik({id:a.Yj(),title:a.Yj(),description:a.Yj().optional(),companyId:a.Yj(),reportingPeriod:a.Ik({start:a.p6(),end:a.p6()}),scope1Total:a.ai().optional(),scope2Total:a.ai().optional(),scope3Total:a.ai().optional(),totalEmissions:a.ai(),calculations:a.YO(u),format:n,generatedAt:a.p6(),metadata:a.g1(a.bz()).optional()}),a.Ik({fromUnit:a.Yj(),toUnit:a.Yj(),factor:a.ai().positive()});let m=e=>d.parse(e),p={energy:{kWh:1,MWh:1e3,GWh:1e6,GJ:277.778,MJ:.277778,BTU:293071e-9,therms:29.3001},volume:{L:1,gal:3.78541,"m\xb3":1e3,"ft\xb3":28.3168},mass:{kg:1,tonnes:1e3,lbs:.453592,short_tons:907.185,long_tons:1016.05},distance:{km:1,miles:1.60934,nautical_miles:1.852}},x={kWh:"energy",MWh:"energy",GWh:"energy",GJ:"energy",MJ:"energy",BTU:"energy",therms:"energy",L:"volume",gal:"volume","m\xb3":"volume","ft\xb3":"volume",kg:"mass",tonnes:"mass",lbs:"mass",short_tons:"mass",long_tons:"mass",km:"distance",miles:"distance",nautical_miles:"distance"};function h(e){return x[e]||null}function g(e,t){let s=h(e),a=h(t);return null!==s&&s===a}class b{constructor(e=[]){this.emissionFactors=new Map,this.loadEmissionFactors(e)}loadEmissionFactors(e){e.forEach(e=>{this.emissionFactors.set(e.id,e)})}getEmissionFactor(e){return this.emissionFactors.get(e)}async calculate(e){try{let t,s,a=m(e),r=this.generateCalculationId();if(a.emissionFactorId){if(!(t=this.getEmissionFactor(a.emissionFactorId)))throw Error(`Emission factor not found: ${a.emissionFactorId}`);s=t.factor}else if(a.customEmissionFactor)s=a.customEmissionFactor;else throw Error("No emission factor provided");let o=await this.convertActivityDataUnits(a.activityData,t),i=await this.performCalculation(a,o,s);return{id:r,input:a,emissionFactor:t,calculatedEmissions:i,calculationMethod:this.getCalculationMethod(a),uncertaintyRange:this.calculateUncertaintyRange(i,t),calculatedAt:new Date,status:"completed"}}catch(t){return{id:this.generateCalculationId(),input:e,calculatedEmissions:0,calculationMethod:"error",calculatedAt:new Date,status:"error",errors:[t instanceof Error?t.message:"Unknown error occurred"]}}}async convertActivityDataUnits(e,t){if(!t)return e.amount;let s=e.unit,a=t.unit;if(s===a)return e.amount;if(!g(s,a))throw Error(`Incompatible units: activity data in ${s}, emission factor in ${a}`);try{var r=e.amount;if(s===a)return r;if(!g(s,a))throw Error(`Cannot convert from ${s} to ${a}: incompatible unit types`);let t=p[h(s)];if(!t[s]||!t[a])throw Error(`Unsupported unit conversion: ${s} to ${a}`);return Number((r*t[s]/t[a]).toFixed(10))}catch(e){throw Error(`Unit conversion failed: ${e instanceof Error?e.message:"Unknown error"}`)}}async performCalculation(e,t,s){switch(e.scope){case"scope_1":return this.calculateScope1Emissions(e,t,s);case"scope_2":return this.calculateScope2Emissions(e,t,s);case"scope_3":return this.calculateScope3Emissions(e,t,s);default:throw Error(`Unsupported emission scope: ${e.scope}`)}}calculateScope1Emissions(e,t,s){let a=t*s;switch(e.category){case"stationary_combustion":return this.adjustForStationaryCombustion(a,e);case"mobile_combustion":return this.adjustForMobileCombustion(a,e);case"process_emissions":return this.adjustForProcessEmissions(a,e);case"fugitive_emissions":return this.adjustForFugitiveEmissions(a,e);default:return a}}calculateScope2Emissions(e,t,s){return this.adjustForScope2Method(t*s,e)}calculateScope3Emissions(e,t,s){let a=t*s;switch(e.category){case"business_travel":return this.adjustForBusinessTravel(a,e);case"employee_commuting":return this.adjustForEmployeeCommuting(a,e);default:return a}}adjustForStationaryCombustion(e,t){return e}adjustForMobileCombustion(e,t){return e}adjustForProcessEmissions(e,t){return e}adjustForFugitiveEmissions(e,t){return e}adjustForScope2Method(e,t){return"market_based"===(t.metadata?.calculationMethod||"location_based")?e*(1-(t.metadata?.renewablePercentage||0)/100):e}adjustForBusinessTravel(e,t){return e}adjustForEmployeeCommuting(e,t){return e}calculateUncertaintyRange(e,t){if(t)return{min:.9*e,max:1.1*e}}getCalculationMethod(e){let t=`${e.scope.toUpperCase()} ${e.category}`;return e.customEmissionFactor?`${t} (custom emission factor)`:`${t} (standard emission factor)`}generateCalculationId(){return`calc_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async batchCalculate(e){let t=[];for(let s of e){let e=await this.calculate(s);t.push(e)}return t}getSummaryStatistics(e){let t=e.filter(e=>"completed"===e.status),s=e.filter(e=>"error"===e.status).length,a=t.reduce((e,t)=>{switch(e.total+=t.calculatedEmissions,t.input.scope){case"scope_1":e.scope1+=t.calculatedEmissions;break;case"scope_2":e.scope2+=t.calculatedEmissions;break;case"scope_3":e.scope3+=t.calculatedEmissions}return e},{total:0,scope1:0,scope2:0,scope3:0});return{totalEmissions:a.total,scope1Total:a.scope1,scope2Total:a.scope2,scope3Total:a.scope3,calculationCount:t.length,errorCount:s}}}function f(e=[]){return new b(e)}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20539:(e,t,s)=>{Promise.resolve().then(s.bind(s,96009))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31155:(e,t,s)=>{Promise.resolve().then(s.bind(s,49475))},33873:e=>{"use strict";e.exports=require("path")},49475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(39563),r=s(70638),o=s(50805);function i({onValidationChange:e,data:t,setData:s}){let[i,n]=(0,r.useState)(t.fuelType||null);return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(o.Qx,{selectedFuelType:i,onSelectionChange:a=>{n(a),s({...t,fuelType:a}),e(!!a)},scope:"scope_1"})})}function n({onValidationChange:e,data:t,setData:s}){let[o,i]=(0,r.useState)(t.activityAmount||""),[n,l]=(0,r.useState)(t.description||""),[c,d]=(0,r.useState)(t.startDate||""),[u,m]=(0,r.useState)(t.endDate||""),p=t.fuelType;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsxs)("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:["Selected Fuel: ",p?.name]}),(0,a.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:["Enter the amount of ",p?.name.toLowerCase()," consumed in ",p?.unit]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"activity-amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Amount (",p?.unit,")"]}),(0,a.jsx)("input",{id:"activity-amount",type:"number",min:"0",step:"0.01",value:o,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:`Enter amount in ${p?.unit}`})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description (Optional)"}),(0,a.jsx)("input",{id:"description",type:"text",value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:"e.g., Office heating for Q1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Start Date"}),(0,a.jsx)("input",{id:"start-date",type:"date",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"End Date"}),(0,a.jsx)("input",{id:"end-date",type:"date",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]})]})]})}function l({onValidationChange:e,data:t,setData:s}){let[o,i]=(0,r.useState)(null),[n,l]=(0,r.useState)(!1),c=t.fuelType;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-50 dark:bg-neutral-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Calculation Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Fuel Type:"}),(0,a.jsx)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:c?.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Amount:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:[t.activityAmount," ",c?.unit]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Period:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:[t.startDate," to ",t.endDate]})]}),t.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Description:"}),(0,a.jsx)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:t.description})]})]})]}),n&&(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 text-center",children:(0,a.jsx)("div",{className:"text-blue-800 dark:text-blue-300",children:"Calculating emissions..."})}),o&&!n&&(0,a.jsx)("div",{className:`rounded-lg p-6 ${o.error?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800"}`,children:o.error?(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-2",children:"Calculation Error"}),(0,a.jsx)("p",{className:"text-red-700 dark:text-red-400",children:o.error})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-emerald-800 dark:text-emerald-300 mb-4",children:"Calculation Results"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400",children:o.calculatedEmissions.toLocaleString()}),(0,a.jsx)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:"kg CO₂e"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-xl font-semibold text-emerald-700 dark:text-emerald-400",children:(o.calculatedEmissions/1e3).toFixed(2)}),(0,a.jsx)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:"tonnes CO₂e"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-medium text-emerald-700 dark:text-emerald-400",children:"Scope 1"}),(0,a.jsx)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:"Direct Emissions"})]})]}),o.uncertaintyRange&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-800",children:(0,a.jsxs)("div",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:[(0,a.jsx)("strong",{children:"Uncertainty Range:"})," ",o.uncertaintyRange.min.toFixed(1)," - ",o.uncertaintyRange.max.toFixed(1)," kg CO₂e"]})})]})})]})}function c(){return(0,a.jsx)(o.si,{children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-emerald-300 mb-2",children:"Scope 1 – Direct Emissions Calculator"}),(0,a.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:"Calculate direct emissions from owned or controlled sources"})]}),(0,a.jsx)(o.KU,{steps:[{id:"fuel-type",title:"Fuel Type",description:"Select the type of fuel or energy source",component:i},{id:"activity-data",title:"Activity Data",description:"Enter consumption amounts and time period",component:n},{id:"review",title:"Review & Calculate",description:"Review your data and calculate emissions",component:l}],onComplete:e=>{console.log("Calculation completed:",e)},onCancel:()=>{window.location.href="/calculator"}})]})})}(0,s(10335).YO)([{id:"natural_gas_factor",category:"stationary_combustion",subcategory:"gaseous_fuels",factor:1.9,unit:"m\xb3",source:"EPA",year:2023,isActive:!0,description:"Natural gas emission factor for stationary combustion"},{id:"gasoline_factor",category:"mobile_combustion",subcategory:"road_transport",factor:2.31,unit:"L",source:"EPA",year:2023,isActive:!0,description:"Gasoline emission factor for mobile combustion"},{id:"diesel_factor",category:"mobile_combustion",subcategory:"road_transport",factor:2.68,unit:"L",source:"EPA",year:2023,isActive:!0,description:"Diesel emission factor for mobile combustion"}])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},95977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=s(41611),r=s(39044),o=s(81382),i=s.n(o),n=s(96465),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c={children:["",{children:["calculator",{children:["scope-1",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,96009)),"D:\\co2-emission-calculator\\apps\\web\\app\\calculator\\scope-1\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,68667))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,83360)),"D:\\co2-emission-calculator\\apps\\web\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,47170,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,1475,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,54776,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,68667))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["D:\\co2-emission-calculator\\apps\\web\\app\\calculator\\scope-1\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/calculator/scope-1/page",pathname:"/calculator/scope-1",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96009:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(10807).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\co2-emission-calculator\\\\apps\\\\web\\\\app\\\\calculator\\\\scope-1\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\co2-emission-calculator\\apps\\web\\app\\calculator\\scope-1\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[103,283,542,470,301,805],()=>s(95977));module.exports=a})();