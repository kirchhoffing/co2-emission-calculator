(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{5375:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(5167),r=a(8736),l=a.n(r),n=a(6343),i=a(1349),o=a(7129),d=a(5275);a(2227);let u=(0,o.R)({config:()=>({links:[(0,d.fu)({url:"".concat("","/api/trpc")})]}),ssr:!1});var c=a(5415);function m(){let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[m,b]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1),[x,g]=(0,n.useState)(""),[f,v]=(0,n.useState)(!1),y=(0,i.useRouter)(),N=u.auth.register.useMutation(),j=async t=>{t.preventDefault(),v(!0),g("");try{await N.mutateAsync({name:e,email:a,password:o,companyName:m.trim()||void 0,gdprConsent:h});let t=await (0,c.signIn)("credentials",{email:a,password:o,redirect:!1});if(null==t?void 0:t.error)return void g("Registration successful, but login failed. Please try logging in manually.");y.push("/dashboard")}catch(e){g(e.message||"Registration failed. Please try again.")}finally{v(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-white dark:bg-neutral-800 rounded-lg shadow-md p-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold mb-6 text-center",children:"Register"}),x&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:x}),(0,s.jsxs)("form",{onSubmit:j,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Name"}),(0,s.jsx)("input",{id:"name",type:"text",autoComplete:"name",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-400 bg-transparent",disabled:f})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-400 bg-transparent",disabled:f})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-400 bg-transparent",disabled:f})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"companyName",className:"block text-sm font-medium mb-1",children:"Company Name (Optional)"}),(0,s.jsx)("input",{id:"companyName",type:"text",value:m,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:border-blue-400 bg-transparent",disabled:f})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("input",{id:"gdprConsent",type:"checkbox",required:!0,checked:h,onChange:e=>p(e.target.checked),className:"mt-1 mr-3",disabled:f}),(0,s.jsxs)("label",{htmlFor:"gdprConsent",className:"text-sm text-neutral-600 dark:text-neutral-300",children:["I agree to the processing of my personal data in accordance with the"," ",(0,s.jsx)(l(),{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})," ","and consent to receive relevant communications."]})]}),(0,s.jsx)("button",{type:"submit",disabled:f||!h,className:"w-full py-2 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Creating Account...":"Register"})]}),(0,s.jsxs)("p",{className:"mt-6 text-center text-sm text-neutral-600 dark:text-neutral-300",children:["Already have an account?"," ",(0,s.jsx)(l(),{href:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})]})})}},8308:(e,t,a)=>{Promise.resolve().then(a.bind(a,5375))}},e=>{var t=t=>e(e.s=t);e.O(0,[736,415,804,5,619,180,358],()=>t(8308)),_N_E=e.O()}]);