(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[586],{1293:(e,t,a)=>{Promise.resolve().then(a.bind(a,9267))},9267:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5167),r=a(6343),l=a(4681),d=a(6180);let i=[{id:"natural_gas_factor",category:"stationary_combustion",subcategory:"gaseous_fuels",factor:1.9,unit:"m\xb3",source:"EPA",year:2023,isActive:!0,description:"Natural gas emission factor for stationary combustion"},{id:"gasoline_factor",category:"mobile_combustion",subcategory:"road_transport",factor:2.31,unit:"L",source:"EPA",year:2023,isActive:!0,description:"Gasoline emission factor for mobile combustion"},{id:"diesel_factor",category:"mobile_combustion",subcategory:"road_transport",factor:2.68,unit:"L",source:"EPA",year:2023,isActive:!0,description:"Diesel emission factor for mobile combustion"}],n=(0,d.YO)(i);function o(e){let{onValidationChange:t,data:a,setData:d}=e,[i,n]=(0,r.useState)(a.fuelType||null);return(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsx)(l.Qx,{selectedFuelType:i,onSelectionChange:e=>{n(e),d({...a,fuelType:e}),t(!!e)},scope:"scope_1"})})}function c(e){let{onValidationChange:t,data:a,setData:l}=e,[d,i]=(0,r.useState)(a.activityAmount||""),[n,o]=(0,r.useState)(a.description||""),[c,m]=(0,r.useState)(a.startDate||""),[u,x]=(0,r.useState)(a.endDate||""),b=()=>{t(parseFloat(d)>0&&c&&u&&new Date(c)<=new Date(u))};r.useEffect(()=>{l({...a,activityAmount:parseFloat(d)||0,description:n,startDate:c,endDate:u}),b()},[d,n,c,u]);let g=a.fuelType;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,s.jsxs)("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:["Selected Fuel: ",null==g?void 0:g.name]}),(0,s.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:["Enter the amount of ",null==g?void 0:g.name.toLowerCase()," consumed in ",null==g?void 0:g.unit]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"activity-amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Amount (",null==g?void 0:g.unit,")"]}),(0,s.jsx)("input",{id:"activity-amount",type:"number",min:"0",step:"0.01",value:d,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:"Enter amount in ".concat(null==g?void 0:g.unit)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description (Optional)"}),(0,s.jsx)("input",{id:"description",type:"text",value:n,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:"e.g., Office heating for Q1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Start Date"}),(0,s.jsx)("input",{id:"start-date",type:"date",value:c,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"End Date"}),(0,s.jsx)("input",{id:"end-date",type:"date",value:u,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]})]})]})}function m(e){let{onValidationChange:t,data:a,setData:l}=e,[d,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(!1);r.useEffect(()=>{t(!0),u()},[]);let u=async()=>{m(!0);try{let e=a.fuelType,t=i.find(t=>t.category===e.category&&t.unit===e.unit);if(!t)throw Error("No matching emission factor found");let s={scope:"scope_1",category:e.category,subcategory:e.subcategory,activityData:{amount:a.activityAmount,unit:e.unit,startDate:new Date(a.startDate),endDate:new Date(a.endDate),description:a.description},emissionFactorId:t.id},r=await n.calculate(s);o(r),l({...a,calculationResult:r})}catch(e){console.error("Calculation error:",e),o({error:e instanceof Error?e.message:"Calculation failed"})}finally{m(!1)}},x=a.fuelType;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-50 dark:bg-neutral-800 rounded-lg p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Calculation Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Fuel Type:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:null==x?void 0:x.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Amount:"}),(0,s.jsxs)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:[a.activityAmount," ",null==x?void 0:x.unit]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Period:"}),(0,s.jsxs)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:[a.startDate," to ",a.endDate]})]}),a.description&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Description:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-slate-800 dark:text-slate-200",children:a.description})]})]})]}),c&&(0,s.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 text-center",children:(0,s.jsx)("div",{className:"text-blue-800 dark:text-blue-300",children:"Calculating emissions..."})}),d&&!c&&(0,s.jsx)("div",{className:"rounded-lg p-6 ".concat(d.error?"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800":"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800"),children:d.error?(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-2",children:"Calculation Error"}),(0,s.jsx)("p",{className:"text-red-700 dark:text-red-400",children:d.error})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-emerald-800 dark:text-emerald-300 mb-4",children:"Calculation Results"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-emerald-700 dark:text-emerald-400",children:d.calculatedEmissions.toLocaleString()}),(0,s.jsx)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:"kg CO₂e"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xl font-semibold text-emerald-700 dark:text-emerald-400",children:(d.calculatedEmissions/1e3).toFixed(2)}),(0,s.jsx)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:"tonnes CO₂e"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-lg font-medium text-emerald-700 dark:text-emerald-400",children:"Scope 1"}),(0,s.jsx)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:"Direct Emissions"})]})]}),d.uncertaintyRange&&(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-800",children:(0,s.jsxs)("div",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:[(0,s.jsx)("strong",{children:"Uncertainty Range:"})," ",d.uncertaintyRange.min.toFixed(1)," - ",d.uncertaintyRange.max.toFixed(1)," kg CO₂e"]})})]})})]})}function u(){return(0,s.jsx)(l.si,{children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-emerald-300 mb-2",children:"Scope 1 – Direct Emissions Calculator"}),(0,s.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300",children:"Calculate direct emissions from owned or controlled sources"})]}),(0,s.jsx)(l.KU,{steps:[{id:"fuel-type",title:"Fuel Type",description:"Select the type of fuel or energy source",component:o},{id:"activity-data",title:"Activity Data",description:"Enter consumption amounts and time period",component:c},{id:"review",title:"Review & Calculate",description:"Review your data and calculate emissions",component:m}],onComplete:e=>{console.log("Calculation completed:",e)},onCancel:()=>{window.location.href="/calculator"}})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[880,681,799,619,180,358],()=>t(1293)),_N_E=e.O()}]);