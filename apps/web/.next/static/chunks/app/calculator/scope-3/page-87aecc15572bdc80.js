(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728],{6385:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(5167),s=a(6343),i=a(4681),o=a(6180);let l=[{id:"air_travel_domestic",name:"Air Travel (Domestic)",category:"business_travel",subcategory:"air_travel",unit:"km",description:"Domestic flights for business purposes"},{id:"air_travel_international",name:"Air Travel (International)",category:"business_travel",subcategory:"air_travel",unit:"km",description:"International flights for business purposes"},{id:"hotel_accommodation",name:"Hotel Accommodation",category:"business_travel",subcategory:"accommodation",unit:"nights",description:"Hotel stays during business trips"},{id:"rental_car",name:"Rental Car",category:"business_travel",subcategory:"ground_transport",unit:"km",description:"Car rentals for business travel"},{id:"employee_car_commute",name:"Employee Car Commuting",category:"employee_commuting",subcategory:"personal_vehicle",unit:"km",description:"Employee commuting in personal vehicles"},{id:"public_transport_commute",name:"Public Transport Commuting",category:"employee_commuting",subcategory:"public_transport",unit:"km",description:"Employee commuting via public transportation"},{id:"remote_work",name:"Remote Work (Avoided Commuting)",category:"employee_commuting",subcategory:"remote_work",unit:"days",description:"Remote work days reducing commuting emissions"},{id:"landfill_waste",name:"Landfilled Waste",category:"waste_generated",subcategory:"landfill",unit:"tonnes",description:"Waste sent to landfill facilities"},{id:"recycled_waste",name:"Recycled Materials",category:"waste_generated",subcategory:"recycling",unit:"tonnes",description:"Materials sent for recycling"},{id:"composted_waste",name:"Composted Organic Waste",category:"waste_generated",subcategory:"composting",unit:"tonnes",description:"Organic waste sent for composting"},{id:"supplier_transport",name:"Supplier Transportation",category:"upstream_transportation",subcategory:"supplier_delivery",unit:"tonne-km",description:"Transportation of goods from suppliers"},{id:"raw_material_transport",name:"Raw Material Transport",category:"upstream_transportation",subcategory:"raw_materials",unit:"tonne-km",description:"Transportation of raw materials to facilities"},{id:"product_distribution",name:"Product Distribution",category:"downstream_transportation",subcategory:"distribution",unit:"tonne-km",description:"Distribution of products to customers"},{id:"customer_travel",name:"Customer Travel to Store",category:"downstream_transportation",subcategory:"customer_travel",unit:"km",description:"Customer travel to retail locations"}],n=[{id:"air_travel_domestic_factor",category:"business_travel",subcategory:"air_travel",factor:.255,unit:"km",source:"DEFRA",year:2023,isActive:!0,description:"Domestic air travel emission factor"},{id:"air_travel_international_factor",category:"business_travel",subcategory:"air_travel",factor:.195,unit:"km",source:"DEFRA",year:2023,isActive:!0,description:"International air travel emission factor"},{id:"hotel_accommodation_factor",category:"business_travel",subcategory:"accommodation",factor:29.3,unit:"nights",source:"DEFRA",year:2023,isActive:!0,description:"Hotel accommodation emission factor"},{id:"rental_car_factor",category:"business_travel",subcategory:"ground_transport",factor:.171,unit:"km",source:"DEFRA",year:2023,isActive:!0,description:"Rental car emission factor"},{id:"employee_car_commute_factor",category:"employee_commuting",subcategory:"personal_vehicle",factor:.171,unit:"km",source:"DEFRA",year:2023,isActive:!0,description:"Employee car commuting emission factor"},{id:"public_transport_commute_factor",category:"employee_commuting",subcategory:"public_transport",factor:.063,unit:"km",source:"DEFRA",year:2023,isActive:!0,description:"Public transport commuting emission factor"},{id:"landfill_waste_factor",category:"waste_generated",subcategory:"landfill",factor:467,unit:"tonnes",source:"EPA",year:2023,isActive:!0,description:"Landfilled waste emission factor"},{id:"recycled_waste_factor",category:"waste_generated",subcategory:"recycling",factor:-50,unit:"tonnes",source:"EPA",year:2023,isActive:!0,description:"Recycled materials avoided emissions factor"},{id:"supplier_transport_factor",category:"upstream_transportation",subcategory:"supplier_delivery",factor:.111,unit:"tonne-km",source:"DEFRA",year:2023,isActive:!0,description:"Supplier transportation emission factor"},{id:"product_distribution_factor",category:"downstream_transportation",subcategory:"distribution",factor:.111,unit:"tonne-km",source:"DEFRA",year:2023,isActive:!0,description:"Product distribution emission factor"}],d=(0,o.YO)(n),c={business_travel:"Business Travel",employee_commuting:"Employee Commuting",waste_generated:"Waste Generated",upstream_transportation:"Upstream Transportation",downstream_transportation:"Downstream Transportation"},m={business_travel:"Emissions from employee business travel including flights, hotels, and ground transport",employee_commuting:"Emissions from employee commuting between home and workplace",waste_generated:"Emissions from waste disposal including landfill, recycling, and composting",upstream_transportation:"Emissions from transportation of purchased goods and services",downstream_transportation:"Emissions from distribution of products and customer travel"};function u(e){let{selectedActivityType:t,onSelectionChange:a}=e,[i,o]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),u=l.filter(e=>{let t=!i||e.category===i,a=!n||e.name.toLowerCase().includes(n.toLowerCase())||e.subcategory.toLowerCase().includes(n.toLowerCase());return t&&a}),p=Array.from(new Set(l.map(e=>e.category))),x=e=>{a(e)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"activity-search",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Search Activity Types"}),(0,r.jsx)("input",{id:"activity-search",type:"text",placeholder:"Search by activity type or category...",value:n,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Category"}),(0,r.jsxs)("select",{id:"category-filter",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",children:[(0,r.jsx)("option",{value:"",children:"All Categories"}),p.map(e=>(0,r.jsx)("option",{value:e,children:c[e]},e))]})]})]}),i&&(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-1",children:c[i]}),(0,r.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:m[i]})]}),t&&(0,r.jsx)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-medium text-emerald-800 dark:text-emerald-300",children:["Selected: ",t.name]}),(0,r.jsxs)("p",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:["Unit: ",t.unit," | Category: ",c[t.category]]}),t.description&&(0,r.jsx)("p",{className:"text-sm text-emerald-600 dark:text-emerald-500 mt-1",children:t.description})]}),(0,r.jsx)("button",{onClick:()=>a(null),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:"Clear"})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(e=>(0,r.jsxs)("button",{onClick:()=>x(e),className:"text-left p-4 border rounded-lg transition-colors ".concat((null==t?void 0:t.id)===e.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 hover:border-slate-300 dark:hover:border-neutral-600"),children:[(0,r.jsx)("div",{className:"font-medium text-slate-800 dark:text-slate-200 mb-1",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:[c[e.category]," â€¢ Unit: ",e.unit]}),e.description&&(0,r.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:e.description})]},e.id))}),0===u.length&&(0,r.jsxs)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[(0,r.jsx)("p",{children:"No activity types match your search criteria."}),(0,r.jsx)("button",{onClick:()=>{d(""),o("")},className:"text-emerald-600 dark:text-emerald-400 hover:underline mt-2",children:"Clear filters"})]})]})}function p(e){let{onValidationChange:t,data:a,setData:i}=e,[o,l]=(0,s.useState)(a.activityType||null);return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsx)(u,{selectedActivityType:o,onSelectionChange:e=>{l(e),i({...a,activityType:e}),t(!!e)}})})}function x(e){let{onValidationChange:t,data:a,setData:i}=e,[o,l]=(0,s.useState)(a.activityAmount||""),[n,d]=(0,s.useState)(a.description||""),[c,m]=(0,s.useState)(a.startDate||""),[u,p]=(0,s.useState)(a.endDate||""),x=()=>{t(parseFloat(o)>0&&c&&u&&new Date(c)<=new Date(u))};s.useEffect(()=>{i({...a,activityAmount:parseFloat(o)||0,description:n,startDate:c,endDate:u}),x()},[o,n,c,u]);let g=a.activityType;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,r.jsxs)("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:["Selected Activity: ",null==g?void 0:g.name]}),(0,r.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:["Enter the amount for ",null==g?void 0:g.name.toLowerCase()," in ",null==g?void 0:g.unit]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"activity-amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Amount (",null==g?void 0:g.unit,")"]}),(0,r.jsx)("input",{id:"activity-amount",type:"number",min:"0",step:"0.01",value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:"Enter amount in ".concat(null==g?void 0:g.unit)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description (Optional)"}),(0,r.jsx)("input",{id:"description",type:"text",value:n,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:"e.g., Q1 business travel to London"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Start Date"}),(0,r.jsx)("input",{id:"start-date",type:"date",value:c,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"End Date"}),(0,r.jsx)("input",{id:"end-date",type:"date",value:u,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]})]})]})}function g(e){let{onValidationChange:t,data:a,setData:i}=e,[o,l]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1);s.useEffect(()=>{t(!0),p()},[]);let p=async()=>{u(!0);try{let e=a.activityType,t=n.find(t=>t.category===e.category&&t.unit===e.unit);if(!t)throw Error("No matching emission factor found");let r={scope:"scope_3",category:e.category,subcategory:e.subcategory,activityData:{amount:a.activityAmount,unit:e.unit,startDate:new Date(a.startDate),endDate:new Date(a.endDate),description:a.description},emissionFactorId:t.id},s=await d.calculate(r);l(s),i({...a,calculationResult:s})}catch(e){console.error("Calculation error:",e),l({error:e instanceof Error?e.message:"Unknown error"})}finally{u(!1)}},x=a.activityType;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-slate-50 dark:bg-neutral-800 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Calculation Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Activity Type"}),(0,r.jsx)("div",{className:"text-slate-800 dark:text-slate-200",children:null==x?void 0:x.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Category"}),(0,r.jsx)("div",{className:"text-slate-800 dark:text-slate-200",children:c[null==x?void 0:x.category]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Amount"}),(0,r.jsxs)("div",{className:"text-slate-800 dark:text-slate-200",children:[a.activityAmount," ",null==x?void 0:x.unit]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Period"}),(0,r.jsxs)("div",{className:"text-slate-800 dark:text-slate-200",children:[a.startDate," to ",a.endDate]})]})]}),a.description&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Description"}),(0,r.jsx)("div",{className:"text-slate-800 dark:text-slate-200",children:a.description})]})]}),(0,r.jsxs)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-emerald-800 dark:text-emerald-300 mb-4",children:"Scope 3 Emission Results"}),m?(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-emerald-700 dark:text-emerald-400",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-emerald-700 dark:border-emerald-400"}),(0,r.jsx)("span",{children:"Calculating emissions..."})]}):(null==o?void 0:o.error)?(0,r.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:["Error: ",o.error]}):o?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:[o.calculatedEmissions.toFixed(2)," kg COâ‚‚e"]}),(0,r.jsxs)("div",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:["Calculation method: ",o.calculationMethod]}),o.uncertaintyRange&&(0,r.jsxs)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:["Uncertainty range: ",o.uncertaintyRange.min.toFixed(2)," - ",o.uncertaintyRange.max.toFixed(2)," kg COâ‚‚e"]}),o.calculatedEmissions<0&&(0,r.jsx)("div",{className:"text-sm text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 p-3 rounded",children:"\uD83D\uDCCC This activity resulted in avoided emissions (negative value), representing a reduction in overall carbon footprint."})]}):null]})]})}function b(){return(0,r.jsx)(i.si,{children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-emerald-300 mb-2",children:"Scope 3 â€“ Value Chain Emissions"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Calculate indirect emissions from business travel, commuting, waste, and transportation"})]}),(0,r.jsx)(i.KU,{steps:[{id:"activity-type",title:"Select Activity Type",description:"Choose the type of Scope 3 activity to calculate emissions for",component:p},{id:"activity-data",title:"Enter Activity Data",description:"Input the amount of activity and reporting period",component:x},{id:"review",title:"Review & Calculate",description:"Review your inputs and calculate Scope 3 emissions",component:g}],onComplete:e=>{console.log("Scope 3 calculation completed:",e),alert("Scope 3 calculation completed! Check console for details.")},onCancel:()=>{console.log("Scope 3 calculation cancelled")}})]})})}},7483:(e,t,a)=>{Promise.resolve().then(a.bind(a,6385))}},e=>{var t=t=>e(e.s=t);e.O(0,[880,681,799,619,180,358],()=>t(7483)),_N_E=e.O()}]);