(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{962:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5167),s=r(6343),i=r(4681),l=r(6180);let d=[{id:"grid_electricity",name:"Grid Electricity",category:"purchased_electricity",subcategory:"grid_mix",unit:"kWh",description:"Electricity purchased from the regional grid"},{id:"renewable_electricity",name:"Renewable Electricity",category:"purchased_electricity",subcategory:"renewable",unit:"kWh",description:"Electricity from certified renewable sources"},{id:"district_steam",name:"District Steam",category:"purchased_steam",subcategory:"district_heating",unit:"GJ",description:"Steam purchased from district heating systems"},{id:"industrial_steam",name:"Industrial Steam",category:"purchased_steam",subcategory:"industrial",unit:"tonnes",description:"Steam for industrial processes"},{id:"district_heating",name:"District Heating",category:"purchased_heating",subcategory:"district_system",unit:"GJ",description:"Hot water or steam from district heating networks"},{id:"biomass_heating",name:"Biomass Heating",category:"purchased_heating",subcategory:"biomass",unit:"GJ",description:"Heating from purchased biomass sources"},{id:"district_cooling",name:"District Cooling",category:"purchased_cooling",subcategory:"district_system",unit:"GJ",description:"Chilled water from district cooling systems"},{id:"purchased_chilled_water",name:"Purchased Chilled Water",category:"purchased_cooling",subcategory:"chilled_water",unit:"GJ",description:"Chilled water for air conditioning"}],c=[{id:"grid_electricity_factor",category:"purchased_electricity",subcategory:"grid_mix",factor:.5,unit:"kWh",source:"EPA eGRID",year:2023,isActive:!0,description:"Grid electricity emission factor for purchased electricity"},{id:"renewable_electricity_factor",category:"purchased_electricity",subcategory:"renewable",factor:0,unit:"kWh",source:"EPA",year:2023,isActive:!0,description:"Renewable electricity emission factor"},{id:"district_steam_factor",category:"purchased_steam",subcategory:"district_heating",factor:70,unit:"GJ",source:"IPCC",year:2023,isActive:!0,description:"District steam emission factor"},{id:"district_heating_factor",category:"purchased_heating",subcategory:"district_system",factor:65,unit:"GJ",source:"IPCC",year:2023,isActive:!0,description:"District heating emission factor"},{id:"district_cooling_factor",category:"purchased_cooling",subcategory:"district_system",factor:75,unit:"GJ",source:"IPCC",year:2023,isActive:!0,description:"District cooling emission factor"}],n=(0,l.YO)(c),o={purchased_electricity:"Purchased Electricity",purchased_steam:"Purchased Steam",purchased_heating:"Purchased Heating",purchased_cooling:"Purchased Cooling"},m={purchased_electricity:"Indirect emissions from purchased electricity consumption",purchased_steam:"Indirect emissions from purchased steam for heating and processes",purchased_heating:"Indirect emissions from purchased heat (hot water, district heating)",purchased_cooling:"Indirect emissions from purchased cooling (chilled water, district cooling)"};function u(e){let{selectedEnergyType:t,onSelectionChange:r}=e,[i,l]=(0,s.useState)(""),[c,n]=(0,s.useState)(""),u=d.filter(e=>{let t=!i||e.category===i,r=!c||e.name.toLowerCase().includes(c.toLowerCase())||e.subcategory.toLowerCase().includes(c.toLowerCase());return t&&r}),x=Array.from(new Set(d.map(e=>e.category))),h=e=>{r(e)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"energy-search",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Search Energy Types"}),(0,a.jsx)("input",{id:"energy-search",type:"text",placeholder:"Search by energy type or category...",value:c,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Category"}),(0,a.jsxs)("select",{id:"category-filter",value:i,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),x.map(e=>(0,a.jsx)("option",{value:e,children:o[e]},e))]})]})]}),i&&(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-1",children:o[i]}),(0,a.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:m[i]})]}),t&&(0,a.jsx)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-emerald-800 dark:text-emerald-300",children:["Selected: ",t.name]}),(0,a.jsxs)("p",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:["Unit: ",t.unit," | Category: ",o[t.category]]}),t.description&&(0,a.jsx)("p",{className:"text-sm text-emerald-600 dark:text-emerald-500 mt-1",children:t.description})]}),(0,a.jsx)("button",{onClick:()=>r(null),className:"text-emerald-600 dark:text-emerald-400 hover:text-emerald-800 dark:hover:text-emerald-200",children:"Clear"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(e=>(0,a.jsxs)("button",{onClick:()=>h(e),className:"text-left p-4 border rounded-lg transition-colors ".concat((null==t?void 0:t.id)===e.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 hover:border-slate-300 dark:hover:border-neutral-600"),children:[(0,a.jsx)("div",{className:"font-medium text-slate-800 dark:text-slate-200 mb-1",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-1",children:[o[e.category]," â€¢ Unit: ",e.unit]}),e.description&&(0,a.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:e.description})]},e.id))}),0===u.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[(0,a.jsx)("p",{children:"No energy types match your search criteria."}),(0,a.jsx)("button",{onClick:()=>{n(""),l("")},className:"text-emerald-600 dark:text-emerald-400 hover:underline mt-2",children:"Clear filters"})]})]})}function x(e){let{onValidationChange:t,data:r,setData:i}=e,[l,d]=(0,s.useState)(r.energyType||null);return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)(u,{selectedEnergyType:l,onSelectionChange:e=>{d(e),i({...r,energyType:e}),t(!!e)}})})}function h(e){let{onValidationChange:t,data:r,setData:i}=e,[l,d]=(0,s.useState)(r.activityAmount||""),[c,n]=(0,s.useState)(r.description||""),[o,m]=(0,s.useState)(r.startDate||""),[u,x]=(0,s.useState)(r.endDate||""),h=()=>{t(parseFloat(l)>0&&o&&u&&new Date(o)<=new Date(u))};s.useEffect(()=>{i({...r,activityAmount:parseFloat(l)||0,description:c,startDate:o,endDate:u}),h()},[l,c,o,u]);let g=r.energyType;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsxs)("h3",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:["Selected Energy: ",null==g?void 0:g.name]}),(0,a.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:["Enter the amount of ",null==g?void 0:g.name.toLowerCase()," consumed in ",null==g?void 0:g.unit]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"activity-amount",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:["Amount (",null==g?void 0:g.unit,")"]}),(0,a.jsx)("input",{id:"activity-amount",type:"number",min:"0",step:"0.01",value:l,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:"Enter amount in ".concat(null==g?void 0:g.unit)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description (Optional)"}),(0,a.jsx)("input",{id:"description",type:"text",value:c,onChange:e=>n(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100",placeholder:"e.g., Office electricity for Q1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Start Date"}),(0,a.jsx)("input",{id:"start-date",type:"date",value:o,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"End Date"}),(0,a.jsx)("input",{id:"end-date",type:"date",value:u,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white dark:bg-neutral-800 text-slate-900 dark:text-slate-100"})]})]})]})}function g(e){let{onValidationChange:t,data:r,setData:i}=e,[l,d]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1);s.useEffect(()=>{t(!0),x()},[]);let x=async()=>{u(!0);try{let e=r.energyType,t=c.find(t=>t.category===e.category&&t.unit===e.unit);if(!t)throw Error("No matching emission factor found");let a={scope:"scope_2",category:e.category,subcategory:e.subcategory,activityData:{amount:r.activityAmount,unit:e.unit,startDate:new Date(r.startDate),endDate:new Date(r.endDate),description:r.description},emissionFactorId:t.id},s=await n.calculate(a);d(s),i({...r,calculationResult:s})}catch(e){console.error("Calculation error:",e),d({error:e instanceof Error?e.message:"Unknown error"})}finally{u(!1)}},h=r.energyType;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-slate-50 dark:bg-neutral-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 mb-4",children:"Calculation Summary"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Energy Type"}),(0,a.jsx)("div",{className:"text-slate-800 dark:text-slate-200",children:null==h?void 0:h.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Category"}),(0,a.jsx)("div",{className:"text-slate-800 dark:text-slate-200",children:o[null==h?void 0:h.category]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Amount"}),(0,a.jsxs)("div",{className:"text-slate-800 dark:text-slate-200",children:[r.activityAmount," ",null==h?void 0:h.unit]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Period"}),(0,a.jsxs)("div",{className:"text-slate-800 dark:text-slate-200",children:[r.startDate," to ",r.endDate]})]})]}),r.description&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Description"}),(0,a.jsx)("div",{className:"text-slate-800 dark:text-slate-200",children:r.description})]})]}),(0,a.jsxs)("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-emerald-800 dark:text-emerald-300 mb-4",children:"Scope 2 Emission Results"}),m?(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-emerald-700 dark:text-emerald-400",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-emerald-700 dark:border-emerald-400"}),(0,a.jsx)("span",{children:"Calculating emissions..."})]}):(null==l?void 0:l.error)?(0,a.jsxs)("div",{className:"text-red-600 dark:text-red-400",children:["Error: ",l.error]}):l?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-emerald-800 dark:text-emerald-300",children:[l.calculatedEmissions.toFixed(2)," kg COâ‚‚e"]}),(0,a.jsxs)("div",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:["Calculation method: ",l.calculationMethod]}),l.uncertaintyRange&&(0,a.jsxs)("div",{className:"text-sm text-emerald-600 dark:text-emerald-500",children:["Uncertainty range: ",l.uncertaintyRange.min.toFixed(2)," - ",l.uncertaintyRange.max.toFixed(2)," kg COâ‚‚e"]})]}):null]})]})}function p(){return(0,a.jsx)(i.si,{children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800 dark:text-emerald-300 mb-2",children:"Scope 2 â€“ Indirect Emissions"}),(0,a.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Calculate indirect emissions from purchased electricity, steam, heating, and cooling"})]}),(0,a.jsx)(i.KU,{steps:[{id:"energy-type",title:"Select Energy Type",description:"Choose the type of purchased energy for Scope 2 emissions",component:x},{id:"activity-data",title:"Enter Consumption Data",description:"Input the amount of energy consumed and reporting period",component:h},{id:"review",title:"Review & Calculate",description:"Review your inputs and calculate Scope 2 emissions",component:g}],onComplete:e=>{console.log("Scope 2 calculation completed:",e),alert("Scope 2 calculation completed! Check console for details.")},onCancel:()=>{console.log("Scope 2 calculation cancelled")}})]})})}},4408:(e,t,r)=>{Promise.resolve().then(r.bind(r,962))}},e=>{var t=t=>e(e.s=t);e.O(0,[880,681,799,619,180,358],()=>t(4408)),_N_E=e.O()}]);